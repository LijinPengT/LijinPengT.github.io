---
title: Vue框架基础
date:  2020-02-16 15:28:20 +0800
category: 前端
tags: Vue
excerpt: 前端Vue框架
---

## Vue框架

### TARGET
+ 基本用法
+ 模板语法
+ 常用特性
+ 基于Vue实现案例效果

### Vue概述

#### 优势
+ 渐进式JavaScrip框架
+ 声明式渲染->组件系统->客户端路由->集中式状态管理->项目构建
+ 易用、灵活、高效(20KB运行大小，超快虚拟DOM)

### Vue基本使用

#### 步骤
1. 需要提供标签用于填充数据
2. 引入Vue.js库文件
3. 可以使用Vue的语法开发功能
4. 把vue提供的数据填充到标签里面

#### 实例参数分析
+ el: 元素的挂载位置（css选择器或者DOM元素）
+ data: 模型数据（值是一个对象）

#### 插值表达式
+ 将数据填充到HTML标签中
+ 插值表达式支持基本的计算操作

#### 运行原理
+ 编译过程(Vue语法->原生语法)

### Vue模板语法

#### 前端渲染
+ 把数据填充到HTML标签中

#### 渲染方式
+ 原生JS拼接字符串
+ 使用前端模板引擎　(没有专门提供事件机制)
+ 使用vue特有的模板语法
    + 插值表达式
    + 指令
    + 事件绑定(处理)
    + 属性绑定
    + 样式绑定
    + 分支循环结构

#### 指令

##### 什么是指令    
+ 什么是自定义属性
+ 指令的本质就是自定义属性
+ 指令的格式: 以v-开始(v-cloak)

##### v-cloak指令用法
+ 插值表达式存在的问题："闪动"
+ 使用v-cloak解决
+ 原理：先通过样式隐藏内容，在内存中进行值的替换，替换好值之后再显示最终的值
    ```
        1. 提供样式
        　　[v-cloak] {
            display: none;
            }
        2. 在插值表达式所在的标签中添加v-cloak指令
    ```

##### 数据绑定指令
+ v-text 填充纯文本指令(不存在闪动问题)
    + 相比于插值表达式更简洁
+ v-html 填充HTML片段
    + 存在安全问题(XSS攻击)
    + 本网站内部数据可以使用，第三方数据不能用
+ v-pre 填充原始数据
    + 显示原始信息，跳过编译过程(分析编译过程)

#### 数据响应式
+ 如何理解响应式
    + HTML5中的响应式(屏幕尺寸的变化导致样式的变化)
    + 数据响应式(数据的变化导致页面内容的变化)
+ 什么是数据绑定
    + 将数据填充到标签中
+ v-once只编译一次
    + 显示内容之后不再具有响应式功能
    + 使用v-once可以提高性能

#### 双向数据绑定
+ 什么是双向数据绑定
    + 数据与页面内容互相影响
+ 双向数据绑定分析
    + v-model='modelName'
+ MVVM设计思想(分而治之)
    + M(Model)(Plain JavaScript Objects)
    + V(view)(DOM)
    + VM(View-Model)(DOM Listeners/Data Bindings)
    + v<----->V(DOM Listeners)M(Data Bindings)<----->M

#### 事件绑定
+ Vue如何处理事件
    + v-on指令用法:[官网链接v-on](https://cn.vuejs.org/v2/api/#v-on)
    ```    
    <input type="button" v-on:click='num++'/>
    <input type="button" @click='num++'/>
    ```
+ 事件函数的调用方式
    + 直接绑定函数名称
    ```
    <button @click='handle'>点击handle</button>
    ```
    + 调用函数
    ```
    <button @click='handle()'>点击handle()</button>
    ```

+ 事件函数的参数传递
    + 普通参数和事件对象
    ```
    <button v-on:click='say("hi".$event)'>Say hi</button>
    ```
    + 如果事件直接绑定函数名称，会默认传递事件对象作为函数的第一个参数
    + 若事件绑定函数调用，那么事件对象必须作为最后一个参数显式传递，事件对象的名称必须是$event

+ 事件修饰符[link](https://cn.vuejs.org/v2/guide/events.html#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6)
    + .stop阻止冒泡
    ```
    <a v-on:click.stop="handle">跳转</a>
    ```
    + .prevent阻止默认行为
    ```
    <a v-on:click.prevent="handle">跳转</a>
    ```
    + 既阻止冒泡又阻止默认行为
    ```
    <button @click.stop.prevent='handle0'>阻止冒泡</button>
    ```
    + 顺序不同，有差异

+ 按键修饰符[link](https://cn.vuejs.org/v2/guide/events.html#%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6)
    + .enter回车键
    ```html
        <input v-on:keyup.enter='submit'>
    ```
    + .delete删除键
    ```html
        <input v-on:keyup.delete='handle'>
    ```
+ 自定义按键修饰符
    ```html
    //自定义按键修饰符名字是自定义的，但是对应的值必须是按键对应的值
        Vue.config.keyCodes.f1 = 112
    ```

#### 综合案例计算器
+ 通过v-model指令实现数值的绑定
+ 给计算按钮绑定计算实践，实现计算逻辑
+ 将计算结果绑定到对应位置

#### 属性绑定

##### Vue如何动态处理属性
```html
    v-bind
    <a v-bind:href='url'>跳转</a>
    缩写
    <a :href='url'>跳转</a>
```

##### v-model的底层实现原理
```html
//使用输入域中最新的数据覆盖原来的数据
 <input v-bind:value='msg' v-on:input='msg=$event.target.value'>
```

#### 样式绑定

##### class样式处理
+ 对象语法
```html
<div v-bind:class="{active: isActive}"></div>
```
+ 数组语法
```html
<div v-bind:class="{activeClass, errorClass}"></div>
```
+ 语法细节
```html
1. 对象绑定，数组绑定可以结合操作
    [activeClass, errorClass, {test: isTest}]
2. class绑定的值可以简化操作
    v-bind:class='arrClass'
    v-bind:class='objClass'
    arrClass: ['active', 'error']
    objClass: {
        active: true,
        error: true
    }
3. 默认的class怎么处理
    默认class会保留
```